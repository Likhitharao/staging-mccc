{
  "log" : {
    "version" : "1.2",
    "creator" : {
      "name" : "BrowserMob Proxy",
      "version" : "2.1.5",
      "comment" : ""
    },
    "pages" : [ {
      "id" : "Page 0",
      "startedDateTime" : "2019-04-08T11:55:38.447Z",
      "title" : "Page 0",
      "pageTimings" : {
        "onLoad" : 6,
        "comment" : ""
      },
      "comment" : ""
    } ],
    "entries" : [ {
      "pageref" : "Page 0",
      "startedDateTime" : "2019-04-08T11:55:38.448Z",
      "request" : {
        "method" : "GET",
        "url" : "http://192.168.0.28:90/packages/aimeos/shop/themes/aimeos.js?v=3",
        "httpVersion" : "HTTP/1.1",
        "cookies" : [ ],
        "headers" : [ {
          "name" : "User-Agent",
          "value" : "Katalon Studio"
        }, {
          "name" : "Host",
          "value" : "192.168.0.28:90"
        }, {
          "name" : "Accept",
          "value" : "text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2"
        }, {
          "name" : "Proxy-Connection",
          "value" : "keep-alive"
        } ],
        "queryString" : [ {
          "name" : "v",
          "value" : "3"
        } ],
        "headersSize" : 226,
        "bodySize" : 0,
        "comment" : ""
      },
      "response" : {
        "status" : 200,
        "statusText" : "OK",
        "httpVersion" : "HTTP/1.1",
        "cookies" : [ ],
        "headers" : [ {
          "name" : "Date",
          "value" : "Mon, 08 Apr 2019 11:55:08 GMT"
        }, {
          "name" : "Server",
          "value" : "Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips PHP/7.2.15"
        }, {
          "name" : "Last-Modified",
          "value" : "Tue, 02 Apr 2019 05:12:15 GMT"
        }, {
          "name" : "ETag",
          "value" : "\"879a-585852e29b487\""
        }, {
          "name" : "Accept-Ranges",
          "value" : "bytes"
        }, {
          "name" : "Content-Length",
          "value" : "34714"
        }, {
          "name" : "Content-Type",
          "value" : "application/javascript"
        } ],
        "content" : {
          "size" : 34714,
          "mimeType" : "application/javascript",
          "text" : "/**\n * Aimeos related Javascript code\n *\n * @license LGPLv3, http://opensource.org/licenses/LGPL-3.0\n * @copyright Metaways Infosystems GmbH, 2012\n * @copyright Aimeos (aimeos.org), 2014-2018\n */\n\n\n/**\n * Aimeos common actions\n */\nAimeos = {\n\n\n\t/**\n\t * Creates a floating container over the page displaying the given content node\n\t */\n\tcreateContainer: function(content) {\n\n\t\tvar container = $(document.createElement(\"div\"));\n\t\tvar btnclose = $(document.createElement(\"a\"));\n\n\t\tbtnclose.text(\"X\");\n\t\tbtnclose.addClass(\"minibutton\");\n\t\tbtnclose.addClass(\"btn-close\");\n\n\t\tcontainer.addClass(\"aimeos-container\");\n\t\tcontainer.addClass(\"aimeos\");\n\t\tcontainer.prepend(btnclose);\n\t\tcontainer.fadeTo(400, 1.0);\n\t\tcontainer.append(content);\n\n\t\t$(\"body\").append(container);\n\n\t\tvar resize = function() {\n\t\t\tvar jqwin = $(window);\n\t\t\tvar left = (jqwin.width() - container.outerWidth()) / 2;\n\t\t\tvar top = jqwin.scrollTop() + (jqwin.height() - container.outerHeight()) / 2;\n\n\t\t\tcontainer.css(\"left\", (left > 0 ? left : 0));\n\t\t\tcontainer.css(\"top\", (top > 0 ? top : 0));\n\t\t};\n\n\t\t$(window).on(\"resize\", resize);\n\t\tresize();\n\t},\n\n\n\t/**\n\t *  Adds an overlay on top of the current page\n\t */\n\tcreateOverlay: function() {\n\n\t\tvar overlay = $(document.createElement(\"div\"));\n\t\toverlay.addClass(\"aimeos-overlay\");\n\t\toverlay.fadeTo(1000, 0.5);\n\t\t$(\"body\").append(overlay);\n\t},\n\n\n\t/**\n\t *  Adds a spinner on top of the current page\n\t */\n\tcreateSpinner: function() {\n\n\t\tvar spinner = $(document.createElement(\"div\"));\n\t\tspinner.addClass(\"aimeos-spinner\");\n\t\t$(\"body\").append(spinner);\n\t},\n\n\n\t/**\n\t * Removes an existing overlay from the current page\n\t */\n\tremoveOverlay: function() {\n\n\t\tvar container = $(\".aimeos-container\");\n\t\tvar overlay = $(\".aimeos-overlay\");\n\n\t\t// remove only if in overlay mode\n\t\tif(container.length + overlay.length > 0) {\n\n\t\t\tcontainer.remove();\n\t\t\toverlay.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\n\t/**\n\t * Removes an existing spinner from the current page\n\t */\n\tremoveSpinner: function() {\n\t\t$(\".aimeos-spinner\").remove();\n\t},\n\n\n\t/**\n\t * Lazy load product image in list views\n\t */\n\tloadImages: function() {\n\n\t\tvar elements = $(\".aimeos .lazy-image\");\n\n\t\tfor( var i = 0; i < elements.length; i++) {\n\t\t\tvar element = $(elements[i]);\n\n\t\t\tif($(window).scrollTop() + $(window).height() + 2 * element.height() >= element.offset().top) {\n\t\t\t\telement.css(\"background-image\", \"url('\" + element.data(\"src\") + \"')\");\n\t\t\t\telement.removeClass(\"lazy-image\");\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/**\n\t * Sets up the ways to close the container by the user\n\t */\n\tsetupContainerClose: function() {\n\n\t\t/* Go back to underlying page when back or close button is clicked */\n\t\t$(\"body\").on(\"click\", \".aimeos-container .btn-close\", function(ev) {\n\t\t\treturn Aimeos.removeOverlay();\n\t\t});\n\n\t\t/* Go back to underlying page when ESC is pressed */\n\t\t$(\"body\").on(\"keydown\", function(ev) {\n\t\t\tif(ev.which == 27) {\n\t\t\t\treturn Aimeos.removeOverlay();\n\t\t\t}\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the setup methods\n\t */\n\tinit: function() {\n\t\tthis.setupContainerClose();\n\t}\n};\n\n\n\n\n\n/**\n * Account favorite actions\n */\nAimeosAccountFavorite = {\n\n\t/**\n\t * Deletes a favorite item without page reload\n\t */\n\tsetupProductRemoval: function() {\n\n\t\t$(\"body\").on(\"click\", \".account-favorite a.modify\", function(ev) {\n\n\t\t\tvar item = $(this).parents(\"favorite-item\");\n\t\t\titem.addClass(\"loading\");\n\n\t\t\t$.get($(this).attr(\"href\"), function(data) {\n\n\t\t\t\tvar doc = document.createElement(\"html\");\n\t\t\t\tdoc.innerHTML = data;\n\n\t\t\t\t$(\".account-favorite\").html($(\".account-favorite\", doc).html());\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the account favorite actions\n\t */\n\tinit: function() {\n\t\tthis.setupProductRemoval();\n\t}\n};\n\n\n\n\n\n/**\n * Account history actions\n */\nAimeosAccountHistory = {\n\n\t/**\n\t * Shows order details without page reload\n\t */\n\tsetupOrderShow: function() {\n\n\t\t$(\".account-history .history-item\").on(\"click\", \"> a\", function(ev) {\n\n\t\t\tvar details = $(\".account-history-order\", ev.delegateTarget);\n\n\t\t\tif(details.length === 0) {\n\n\t\t\t\t$.get($(this).attr(\"href\"), function(data) {\n\n\t\t\t\t\tvar doc = document.createElement(\"html\");\n\t\t\t\t\tdoc.innerHTML = data;\n\n\t\t\t\t\tvar node = $(\".account-history-order\", doc);\n\t\t\t\t\tnode.css(\"display\", \"none\");\n\t\t\t\t\t$(ev.delegateTarget).append(node);\n\t\t\t\t\tnode.slideDown();\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\tdetails.slideToggle();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Closes the order details without page reload\n\t */\n\tsetupOrderClose: function() {\n\n\t\t$(\".account-history .history-item\").on(\"click\", \".btn-close\", function(ev) {\n\t\t\t$(\".account-history-order\", ev.delegateTarget).slideUp();\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the account history actions\n\t */\n\tinit: function() {\n\n\t\tthis.setupOrderShow();\n\t\tthis.setupOrderClose();\n\t}\n};\n\n\n\n\n/**\n * Account subscription actions\n */\nAimeosAccountSubscription = {\n\n\t/**\n\t * Shows subscription details without page reload\n\t */\n\tsetupDetailShow: function() {\n\n\t\t$(\".account-subscription .subscription-item\").on(\"click\", \"> a\", function(ev) {\n\n\t\t\tvar details = $(\".account-subscription-detail\", ev.delegateTarget);\n\n\t\t\tif(details.length === 0) {\n\n\t\t\t\t$.get($(this).attr(\"href\"), function(data) {\n\n\t\t\t\t\tvar doc = document.createElement(\"html\");\n\t\t\t\t\tdoc.innerHTML = data;\n\n\t\t\t\t\tvar node = $(\".account-subscription-detail\", doc);\n\t\t\t\t\tnode.css(\"display\", \"none\");\n\t\t\t\t\t$(ev.delegateTarget).append(node);\n\t\t\t\t\tnode.slideDown();\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\tdetails.slideToggle();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Closes the order details without page reload\n\t */\n\tsetupDetailClose: function() {\n\n\t\t$(\".account-subscription .subscription-item\").on(\"click\", \".btn-close\", function(ev) {\n\t\t\t$(\".account-subscription-detail\", ev.delegateTarget).slideUp();\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the account subscription actions\n\t */\n\tinit: function() {\n\n\t\tthis.setupDetailShow();\n\t\tthis.setupDetailClose();\n\t}\n};\n\n\n\n/**\n * Account watch actions\n */\nAimeosAccountWatch = {\n\n\t/**\n\t * Deletes a watched item without page reload\n\t */\n\tsetupProductRemoval: function() {\n\n\t\t$(\"body\").on(\"click\", \".account-watch a.modify\", function(ev) {\n\n\t\t\tvar item = $(this).parents(\"watch-item\");\n\t\t\titem.addClass(\"loading\");\n\n\t\t\t$.get($(this).attr(\"href\"), function(data) {\n\n\t\t\t\tvar doc = document.createElement(\"html\");\n\t\t\t\tdoc.innerHTML = data;\n\n\t\t\t\t$(\".account-watch\").html($(\".account-watch\", doc).html());\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Saves a modifed watched item without page reload\n\t */\n\tsetupProductSave: function() {\n\n\t\t$(\"body\").on(\"click\", \".account-watch .standardbutton\", function(ev) {\n\n\t\t\tvar form = $(this).parents(\"form.watch-details\");\n\t\t\tform.addClass(\"loading\");\n\n\t\t\t$.post(form.attr(\"action\"), form.serialize(), function(data) {\n\n\t\t\t\tvar doc = document.createElement(\"html\");\n\t\t\t\tdoc.innerHTML = data;\n\n\t\t\t\t$(\".account-watch\").html($(\".account-watch\", doc).html());\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the account watch actions\n\t */\n\tinit: function() {\n\n\t\tthis.setupProductRemoval();\n\t\tthis.setupProductSave();\n\t}\n};\n\n\n\n\n\n/**\n * Basket mini client actions\n */\nAimeosBasketMini = {\n\n\tWIDTH: '25em',\n\n\n\t/**\n\t * Updates the basket mini content using the JSON API\n\t */\n\tupdate: function() {\n\n\t\t$.ajax($(\".aimeos.basket-mini[data-jsonurl]\").data(\"jsonurl\"), {\n\t\t\t\"method\": \"OPTIONS\",\n\t\t\t\"dataType\": \"json\"\n\t\t}).then(function(options) {\n\t\t\t$.ajax({\n\t\t\t\tdataType: \"json\",\n\t\t\t\turl: options.meta.resources['basket']\n\t\t\t}).then(function(basket) {\n\t\t\t\tAimeosBasketMini.updateBasket(basket);\n\t\t\t});\n\t\t});\n\t},\n\n\n\t/**\n\t * Updates the basket mini content\n\t */\n\tupdateBasket: function(basket) {\n\n\t\tif(!(basket.data && basket.data.attributes)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar attr = basket.data.attributes;\n\t\tvar price = Number.parseFloat(attr['order.base.price']);\n\t\tvar delivery = Number.parseFloat(attr['order.base.costs']);\n\n\t\tvar formatter = new Intl.NumberFormat([], {\n\t\t\tcurrency: attr['order.base.currencyid'],\n\t\t\tstyle: \"currency\"\n\t\t});\n\n\t\t$(\".aimeos .basket-mini-main .value\").html(formatter.format(price + delivery));\n\t\t$(\".aimeos .basket-mini-product .total .price\").html(formatter.format(price + delivery));\n\t\t$(\".aimeos .basket-mini-product .delivery .price\").html(formatter.format(delivery));\n\n\t\tif(basket.included) {\n\n\t\t\tvar csrf = '';\n\t\t\tvar count = 0;\n\t\t\tvar body = $(\".aimeos .basket-mini-product .basket-body\");\n\t\t\tvar prototype = $(\".aimeos .basket-mini-product .product.prototype\");\n\n\t\t\tif(basket.meta && basket.meta.csrf) {\n\t\t\t\tcsrf = basket.meta.csrf.name + '=' + basket.meta.csrf.value;\n\t\t\t}\n\n\t\t\t$(\".aimeos .basket-mini-product .product\").not(\".prototype\").remove();\n\n\t\t\tfor(var i=0; i<basket.included.length; i++) {\n\t\t\t\tvar entry = basket.included[i];\n\n\t\t\t\tif(entry.type === 'basket/product') {\n\t\t\t\t\tvar product = prototype.clone();\n\t\t\t\t\t\n\t\t\t\t\tproduct.data(\"urldata\", csrf);\n\t\t\t\t\tproduct.data(\"url\", entry.links.self.href);\n\t\t\t\t\t\n\t\t\t\t\t$(\".name\", product).html(entry.attributes['order.base.product.name']);\n\t\t\t\t\t$(\".quantity\", product).html(entry.attributes['order.base.product.quantity']);\n\t\t\t\t\t$(\".price\", product).html(formatter.format(entry.attributes['order.base.product.price']));\n\n\t\t\t\t\tbody.append(product.removeClass(\"prototype\"));\n\t\t\t\t\t\n\t\t\t\t\tcount += Number.parseInt(entry.attributes[\"order.base.product.quantity\"]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(\".aimeos .basket-mini-main .quantity\").html(count);\n\t\t}\n\t},\n\n\n\t/**\n\t * Saves a modifed watched item without page reload\n\t */\n\tsetupBasketDelete: function() {\n\n\t\t$(\".aimeos .basket-mini-product\").on(\"click\", \".delete\", function(ev) {\n\n\t\t\tvar product = $(this).closest(\".product\");\n\n\t\t\t$.ajax(product.data(\"url\"), {\n\t\t\t\t\"method\": \"DELETE\",\n\t\t\t\t\"dataType\": \"json\",\n\t\t\t\t\"data\": product.data(\"urldata\")\n\t\t\t}).then(function(basket) {\n\t\t\t\tAimeosBasketMini.updateBasket(basket);\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Saves a modifed watched item without page reload\n\t */\n\tsetupBasketToggle: function() {\n\n\t\tvar width = $(\".aimeos.basket-mini\").innerWidth();\n\n\t\t$(\".aimeos.basket-mini\").on(\"click\", \".basket-toggle.toggle-open\", function(ev) {\n\n\t\t\t$(\".basket\", ev.delegateTarget).toggle();\n\t\t\t$(\".basket\", ev.delegateTarget).css(\"width\", width);\n\n\t\t\t$(ev.delegateTarget).animate({\"width\": width}, {done: function() {\n\t\t\t\t$(ev.currentTarget).removeClass(\"toggle-open\").addClass(\"toggle-close\");\n\t\t\t}});\n\t\t});\n\n\t\t$(\".aimeos.basket-mini\").on(\"click\", \".basket-toggle.toggle-close\", function(ev) {\n\n\t\t\t$(ev.delegateTarget).animate({\"width\": AimeosBasketMini.WIDTH}, {done: function() {\n\n\t\t\t\t$(\".basket\", ev.delegateTarget).toggle();\n\t\t\t\t$(\".basket\", ev.delegateTarget).css(\"width\", AimeosBasketMini.WIDTH);\n\n\t\t\t\t$(ev.currentTarget).removeClass(\"toggle-close\").addClass(\"toggle-open\");\n\t\t\t}});\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the basket mini actions\n\t */\n\tinit: function() {\n\n\t\tthis.setupBasketDelete();\n\t\tthis.setupBasketToggle();\n\t}\n};\n\n\n\n\n\n/**\n * Basket related client actions\n */\nAimeosBasketRelated = {\n\n\t/**\n\t * Initializes the basket related actions\n\t */\n\tinit: function() {\n\t}\n};\n\n\n\n\n\n/**\n * Basket standard client actions\n */\nAimeosBasketStandard = {\n\n\t/**\n\t * Updates the basket without page reload\n\t */\n\tupdateBasket: function(data) {\n\t\tvar orginLocation = window.location.pathname.split(\"/\",4);\n\t\tif(orginLocation[1] != 'detail'){\n\t\t\tvar doc = document.createElement(\"html\");\n\t\t\tdoc.innerHTML = data;\n\t\t\t\n\t\t\tvar basket = $(\".basket-standard\", doc);\n\t\n\t\t\t$(\".btn-update\", basket).hide(); \n\t\t\tAimeosBasketMini.update();\n\t\t\treturn basket;\t\t\t\n\n\t\t}else{\n\t\t\tAimeosBasketMini.update();\n\t\t\twindow.location.href=\"/basket\";\n\t\t}\n\t},\n\n\n\t/**\n\t * Goes back to underlying page when back or close button of the basket is clicked\n\t */\n\tsetupBasketBack: function() {\n\n\t\t$(\"body\").on(\"click\", \".basket-standard .btn-back\", function(ev) {\n\t\t\treturn Aimeos.removeOverlay();\n\t\t});\n\t},\n\n\n\t/**\n\t * Hides the update button and show only on quantity change\n\t */\n\tsetupUpdateHide: function() {\n\n\t\t$(\".basket-standard .btn-update\").hide();\n\n\t\t$(\"body\").on(\"focusin\", \".basket-standard .basket .product .quantity .value\", {}, function(ev) {\n\t\t\t$(\".btn-update\", ev.delegateTarget).show();\n\t\t});\n\t},\n\n\n\t/**\n\t * Updates basket without page reload\n\t */\n\tsetupUpdateSubmit: function() {\n\n\t\t$(\"body\").on(\"submit\", \".basket-standard form\", function(ev) {\n\t\t\tvar form = $(this);\n\n\t\t\tAimeos.createSpinner();\n\t\t\t$.post(form.attr(\"action\"), form.serialize(), function(data) {\n\t\t\t\t$(\".basket-standard\").html(AimeosBasketStandard.updateBasket(data).html());\n\t\t\t}).always(function() {\n\t\t\t\tAimeos.removeSpinner();\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Updates quantity and deletes products without page reload\n\t */\n\tsetupUpdateChange: function() {\n\n\t\t$(\"body\").on(\"click\", \".basket-standard a.change\", function(ev) {\n\n\t\t\tAimeos.createSpinner();\n\t\t\t$.get($(this).attr(\"href\"), function(data) {\n\t\t\t\t$(\".basket-standard\").html(AimeosBasketStandard.updateBasket(data).html());\n\t\t\t}).always(function() {\n\t\t\t\tAimeos.removeSpinner();\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the basket standard actions\n\t */\n\tinit: function() {\n\n\t\tthis.setupBasketBack();\n\t\tthis.setupUpdateHide();\n\t\tthis.setupUpdateSubmit();\n\t\tthis.setupUpdateChange();\n\t}\n};\n\n\n\n\n/**\n * Aimeos common catalog actions\n */\nAimeosCatalog = {\n\n\t/**\n\t * Evaluates the product variant dependencies.\n\t *\n\t * It does not only work with <select> and <option> tags but also if a\n\t *\n\t * <div class=\"select-list\" data-index=\"<index value: 0-31>\"> and\n\t *\n\t * <input class=\"select-option\" type=\"radio\"> or\n\t * <input class=\"select-option\" type=\"checkbox\">\n\t *\n\t * are used. The data-index attribute of the .select-list container is\n\t * required to calculate the disabled attributes for each option according\n\t * to its dependencies. It must start with \"0\" and an unique, ascending value\n\t * must be assigned to each container. The maximum number of possible indexes\n\t * (and therefore dependent containers within an .selection node) is 31\n\t * because it's an integer bitmap.\n\t */\n\tsetupSelectionDependencies: function() {\n\n\t\t$(\".catalog-detail-basket-selection .selection, .catalog-list-items .items-selection .selection\").on(\"change\", \".select-list\", function(event) {\n\n\t\t\tvar elem = $(this);\n\t\t\tvar index = elem.data(\"index\");\n\t\t\tvar value = elem.find(\".select-option:checked\").val();\n\n\t\t\tvar attrDeps = $(event.delegateTarget).data(\"attrdeps\") || {}; // {\"<attrid>\":[\"prodid\",...],...}\n\t\t\tvar prodDeps = $(event.delegateTarget).data(\"proddeps\") || {}; // {\"<prodid>\":[\"attrid\",...],...}\n\t\t\tvar attrMap = {}, attrList = [];\n\n\t\t\tif( typeof index === \"undefined\" ) {\n\t\t\t\tthrow new Error( \"HTML select node has no attribute data-index\" );\n\t\t\t}\n\n\n\t\t\t// Retrieves the list of available attribute ID => product ID\n\t\t\t// combinations for the selected value\n\t\t\tif( attrDeps.hasOwnProperty(value) ) {\n\n\t\t\t\tfor( var i=0; i<attrDeps[value].length; i++ ) {\n\n\t\t\t\t\tvar prodId = attrDeps[value][i];\n\n\t\t\t\t\tif( prodDeps.hasOwnProperty(prodId) ) {\n\n\t\t\t\t\t\tfor( var j=0; j<prodDeps[prodId].length; j++ ) {\n\t\t\t\t\t\t\tattrMap[prodDeps[prodId][j]] = prodId;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t$(\".select-list\", event.delegateTarget).each(function(idx, select) {\n\n\t\t\t\tif( event.currentTarget == select ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif( index === 0 ) {\n\n\t\t\t\t\tvar options = $(\".select-option\", this);\n\n\t\t\t\t\toptions.removeAttr(\"disabled\");\n\t\t\t\t\toptions.data(\"disabled\", 0);\n\t\t\t\t\toptions.data(\"by\", {});\n\t\t\t\t}\n\n\n\t\t\t\t$(\".select-option\", this).each(function(i, option) {\n\n\t\t\t\t\tvar opt = $(option);\n\t\t\t\t\tvar val = opt.val();\n\t\t\t\t\tvar by = opt.data(\"by\") || {};\n\t\t\t\t\tvar disabled = opt.data(\"disabled\") || 0;\n\n\n\t\t\t\t\t// Sets or removes the disabled bits in the bitmap of the\n\t\t\t\t\t// .select-option and by which .select-list it was disabled.\n\t\t\t\t\t// Each option can be disabled by multiple dependencies and\n\t\t\t\t\t// we can remove each of the bits separately again.\n\t\t\t\t\tif( value !== \"\" && val !== \"\" && !attrMap.hasOwnProperty(val) ) {\n\t\t\t\t\t\tdisabled |= 2<<index;\n\t\t\t\t\t\tby[index] = 1;\n\t\t\t\t\t} else if( by.hasOwnProperty(index) ) {\n\t\t\t\t\t\tdisabled &= ~(2<<index);\n\t\t\t\t\t\tdelete by[index];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( idx !== 0 && disabled > 0 ) {\n\t\t\t\t\t\topt.attr(\"disabled\", \"disabled\");\n\t\t\t\t\t\topt.prop(\"selected\", false);\n\t\t\t\t\t\topt.prop(\"checked\", false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\topt.removeAttr(\"disabled\");\n\t\t\t\t\t}\n\n\t\t\t\t\topt.data(\"disabled\", disabled);\n\t\t\t\t\topt.data(\"by\", by);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\n\n\t/**\n\t * Displays the associated stock level, price items and attributes for the selected product variant\n\t */\n\tsetupSelectionContent: function() {\n\n\t\t$(\".catalog-detail-basket-selection .selection, .catalog-list-items .items-selection .selection\").on(\"change\", \".select-list\", function(event) {\n\n\t\t\tvar map = {}, len = 0;\n\t\t\tvar attrDeps = $(event.delegateTarget).data(\"attrdeps\") || {}; // {\"<attrid>\":[\"prodid\",...],...}\n\n\n\t\t\t$(\".select-option:checked\", event.delegateTarget).each(function(idx, option) {\n\n\t\t\t\tvar value = $(option).val();\n\n\t\t\t\tif( value !== \"\" && attrDeps.hasOwnProperty(value) ) {\n\n\t\t\t\t\tfor( var i=0; i<attrDeps[value].length; i++ ) {\n\n\t\t\t\t\t\tif( map.hasOwnProperty(attrDeps[value][i]) ) {\n\t\t\t\t\t\t\tmap[attrDeps[value][i]]++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmap[attrDeps[value][i]] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlen++;\n\t\t\t});\n\n\n\t\t\tfor( var prodId in map ) {\n\n\t\t\t\tif( map.hasOwnProperty(prodId) && map[prodId] === len ) {\n\n\t\t\t\t\tvar parent = $(this).parents(\".catalog-detail-basket, .catalog-list .product\");\n\t\t\t\t\tvar newStock = $(\".stock-list [data-prodid=\" + prodId + \"]\", parent);\n\t\t\t\t\tvar newPrice = $(\".price-list [data-prodid=\" + prodId + \"]\", parent);\n\n\t\t\t\t\tif( newStock.length === 0 ) {\n\t\t\t\t\t\tnewStock = $(\".stock-list .articleitem:first-child\", parent);\n\t\t\t\t\t}\n\n\t\t\t\t\tif( newPrice.length === 0 ) {\n\t\t\t\t\t\tnewPrice = $(\".price-list .articleitem:first-child\", parent);\n\t\t\t\t\t}\n\n\t\t\t\t\t$(\".articleitem\", parent).removeClass(\"stock-actual\");\n\t\t\t\t\tnewStock.addClass(\"stock-actual\");\n\n\t\t\t\t\t$(\".articleitem\", parent).removeClass(\"price-actual\");\n\t\t\t\t\tnewPrice.addClass(\"price-actual\");\n\n\t\t\t\t\tif( parent.data(\"reqstock\") && $(\".stockitem\", newStock).hasClass(\"stock-out\") ) {\n\t\t\t\t\t\t$(\".addbasket .btn-action\", parent).addClass(\"btn-disabled\").attr(\"disabled\", \"disabled\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(\".addbasket .btn-action\", parent).removeClass(\"btn-disabled\").removeAttr(\"disabled\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(\".catalog-detail-additional .subproduct-actual\").removeClass(\"subproduct-actual\");\n\t\t\t$(\".catalog-detail-additional .subproduct-\" + prodId).addClass(\"subproduct-actual\");\n\t\t});\n\t},\n\n\n\t/**\n\t * Checks if all required variant attributes are selected\n\t */\n\tsetupVariantCheck: function() {\n\n\t\t$(\".catalog-detail-basket-selection, .catalog-list-items .items-selection\").on(\"click\", \".addbasket .btn-action\", {}, function(event) {\n\n\t\t\tvar result = true;\n\n\t\t\t$(\".selection .select-item\", event.delegateTarget).each( function() {\n\n\t\t\t\tif( $(\".select-list\", this).val() !== '' || $(\".select-option:checked\", this).length > 0 ) {\n\t\t\t\t\t$(this).removeClass(\"error\");\n\t\t\t\t} else {\n\t\t\t\t\t$(this).addClass(\"error\");\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t});\n\t},\n\n\n\t/**\n\t * Shows the images associated to the variant attributes\n\t */\n\tsetupVariantImages: function() {\n\n\t\t$(\".catalog-detail-basket-selection .selection, .catalog-list-items .items-selection .selection\").on(\"change\", \".select-list\", function(event) {\n\n\t\t\tvar elem = $(this);\n\t\t\tvar type = elem.data(\"type\");\n\t\t\tvar value = elem.find(\".select-option:checked\").val();\n\n\t\t\telem.parents(\".product\").find(\".image-single .item\").each( function(ev) {\n\n\t\t\t\tif( $(this).data(\"variant-\" + type) == value ) {\n\t\t\t\t\twindow.location.hash = $(this).attr(\"id\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\n\t/**\n\t * Adds products to the basket without page reload\n\t */\n\tsetupBasketAdd: function(data) {\n\n\t\t$(\".catalog-detail-basket form, .catalog-list-items form\").on(\"submit\", function(ev) {\n\n\t\t\tAimeos.createOverlay();\n\t\t\t$.post($(this).attr(\"action\"), $(this).serialize(), function(data) {\n\t\t\t\tAimeos.createContainer(AimeosBasketStandard.updateBasket(data));\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Adds a product to the favorite list without page reload\n\t */\n\tsetupFavoriteAction: function() {\n\n\t\t$(\".catalog-actions .actions-button-favorite\").on(\"click\", function(ev) {\n\n\t\t\tAimeos.createOverlay();\n\n\t\t\t$.ajax({\n\t\t\t\turl: $(this).attr(\"href\"),\n\t\t\t\tdataType: 'html',\n\t\t\t\theaders: {\n\t\t\t\t\t\"X-Requested-With\": \"jQuery\"\n\t\t\t\t}\n\t\t\t}).done(function(data) {\n\n\t\t\t\tvar doc = document.createElement(\"html\");\n\t\t\t\tdoc.innerHTML = data;\n\t\t\t\tvar content = $(\".account-favorite\", doc);\n\n\t\t\t\tif( content.length > 0 ) {\n\t\t\t\t\tAimeos.createContainer(content);\n\t\t\t\t} else {\n\t\t\t\t\t$(\"html\").replaceWith(doc);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Adds a product to the watch list without page reload\n\t */\n\tsetupWatchAction: function() {\n\n\t\t$(\".catalog-actions .actions-button-watch\").on(\"click\", function(ev) {\n\n\t\t\tAimeos.createOverlay();\n\n\t\t\t$.ajax({\n\t\t\t\turl: $(this).attr(\"href\"),\n\t\t\t\tdataType: 'html',\n\t\t\t\theaders: {\n\t\t\t\t\t\"X-Requested-With\": \"jQuery\"\n\t\t\t\t}\n\t\t\t}).done(function(data) {\n\n\t\t\t\tvar doc = document.createElement(\"html\");\n\t\t\t\tdoc.innerHTML = data;\n\t\t\t\tvar content = $(\".account-watch\", doc);\n\n\t\t\t\tif( content.length > 0 ) {\n\t\t\t\t\tAimeos.createContainer(content);\n\t\t\t\t} else {\n\t\t\t\t\t$(\"html\").replaceWith(doc);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the common catalog actions\n\t */\n\tinit: function() {\n\n\t\tthis.setupSelectionDependencies();\n\t\tthis.setupSelectionContent();\n\t\tthis.setupVariantImages();\n\t\tthis.setupVariantCheck();\n\t\tthis.setupBasketAdd();\n\t\tthis.setupWatchAction();\n\t\tthis.setupFavoriteAction();\n\t}\n};\n\n\n\n/**\n * Catalog filter actions\n */\nAimeosCatalogFilter = {\n\n\tMIN_INPUT_LEN: 3,\n\n\t/**\n\t * Autocompleter for quick search\n\t */\n\tsetupSearchAutocompletion: function() {\n\n\t\tvar aimeosInputComplete = $(\".catalog-filter-search .value\");\n\n\t\tif(aimeosInputComplete.length) {\n\t\t\taimeosInputComplete.autocomplete({\n\t\t\t\tminLength : AimeosCatalogFilter.MIN_INPUT_LEN,\n\t\t\t\tdelay : 200,\n\t\t\t\tsource : function(req, resp) {\n\t\t\t\t\tvar nameTerm = {};\n\t\t\t\t\tnameTerm[aimeosInputComplete.attr(\"name\")] = req.term;\n\n\t\t\t\t\t$.getJSON(aimeosInputComplete.data(\"url\"), nameTerm, function(data) {\n\t\t\t\t\t\tresp(data);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect : function(ev, ui) {\n\t\t\t\t\taimeosInputComplete.val(ui.item.label);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}).autocomplete(\"instance\")._renderItem = function(ul, item) {\n\t\t\t\treturn $(item.html).appendTo(ul);\n\t\t\t};\n\t\t}\n\t},\n\n\n\t/**\n\t * Sets up the form checks\n\t */\n\tsetupFormChecks: function() {\n\n\t\t$(\".catalog-filter form\").on(\"submit\", function(ev) {\n\n\t\t\tvar result = true;\n\t\t\tvar form = $(this);\n\n\t\t\t$(\"input.value\", this).each(function() {\n\n\t\t\t\tvar input = $(this);\n\n\t\t\t\tif(input.val() !== '' && input.val().length < AimeosCatalogFilter.MIN_INPUT_LEN) {\n\n\t\t\t\t\tif($(this).has(\".search-hint\").length === 0) {\n\n\t\t\t\t\t\tvar node = $('<div class=\"search-hint\">' + input.data(\"hint\") + '</div>');\n\t\t\t\t\t\t$(\".catalog-filter-search\", form).after(node);\n\n\t\t\t\t\t\tvar pos = node.position();\n\t\t\t\t\t\tnode.css(\"left\", pos.left).css(\"top\", pos.top);\n\t\t\t\t\t\tnode.delay(3000).fadeOut(1000, function() {\n\t\t\t\t\t\t\tnode.remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t});\n\t},\n\n\n\t/**\n\t * Sets up the fade out of the catalog list\n\t */\n\tsetupListFadeout: function() {\n\n\t\t$(\".catalog-filter-tree li.cat-item\").on(\"click\", function() {\n\t\t\t$(\".catalog-list\").fadeTo(1000, 0.5);\n\t\t});\n\t},\n\n\n\t/**\n\t * Toggles the categories if hover isn't available\n\t */\n\tsetupCategoryToggle: function() {\n\n\t\t$(\".catalog-filter-tree\").on(\"click\", \"h2\", function(ev) {\n\t\t\t$(\"> ul\", ev.delegateTarget).slideToggle();\n\t\t});\n\t},\n\n\n\t/**\n\t * Toggles the attribute filters if hover isn't available\n\t */\n\tsetupAttributeToggle: function() {\n\n\t\t$(\".catalog-filter-attribute\").on(\"click\", \"h2\", function(ev) {\n\t\t\t$(\".attribute-lists\", ev.delegateTarget).slideToggle();\n\t\t});\n\t},\n\n\n\t/**\n\t * Toggles the attribute filters if hover isn't available\n\t */\n\tsetupAttributeListsToggle: function() {\n\n\t\t$(\".catalog-filter-attribute .attribute-lists .attr-list\").hide();\n\n\t\t$(\".catalog-filter-attribute fieldset\").on(\"click\", \"legend\", function(ev) {\n\t\t\t$(\".attr-list\", ev.delegateTarget).slideToggle();\n\t\t});\n\t},\n\n\n\t/**\n\t * Hides the attribute filter if no products are available for\n\t */\n\tsetupAttributeListsEmtpy: function() {\n\n\t\t$(\".catalog-filter-attribute .attribute-lists fieldset\").hide();\n\n\t\t$(\".catalog-filter-attribute .attribute-lists .attr-count\").each(function(ev) {\n\t\t\t$(this).parents('fieldset').show();\n\t\t});\n\t},\n\n\n\t/**\n\t * Submits the form when clicking on filter attribute names or counts\n\t */\n\tsetupAttributeItemSubmit: function() {\n\n\t\t$(\".catalog-filter-attribute li.attr-item\").on(\"click\", \".attr-name, .attr-count\", function(ev) {\n\t\t\tvar input = $(\"input\", ev.delegateTarget);\n\t\t\tinput.prop(\"checked\") ? input.prop(\"checked\", false) : input.prop(\"checked\", true);\n\n\t\t\t$(this).parents(\".catalog-filter form\").submit();\n\t\t\t$(\".catalog-list\").fadeTo(1000, 0.5);\n\t\t});\n\t},\n\n\n\t/**\n\t * Toggles the supplier filters if hover isn't available\n\t */\n\tsetupSupplierToggle: function() {\n\n\t\t$(\".catalog-filter-supplier\").on(\"click\", \"h2\", function(ev) {\n\t\t\t$(\".supplier-lists\", ev.delegateTarget).slideToggle();\n\t\t});\n\t},\n\n\n\t/**\n\t * Submits the form when clicking on filter supplier names or counts\n\t */\n\tsetupSupplierItemSubmit: function() {\n\n\t\t$(\".catalog-filter-supplier li.attr-item\").on(\"click\", \".attr-name, .attr-count\", function(ev) {\n\t\t\tvar input = $(\"input\", ev.delegateTarget);\n\t\t\tinput.prop(\"checked\") ? input.prop(\"checked\", false) : input.prop(\"checked\", true);\n\n\t\t\t$(this).parents(\".catalog-filter form\").submit();\n\t\t\t$(\".catalog-list\").fadeTo(1000, 0.5);\n\t\t});\n\t},\n\n\n\t/**\n\t * Registers events for the catalog filter search input reset\n\t */\n\tsetupSearchTextReset: function() {\n\n\t\t$(\".catalog-filter-search\").on(\"keyup\", \".value\", function(ev) {\n\t\t\tif ($(this).val() !== \"\") {\n\t\t\t\t$(\".reset .symbol\", ev.delegateTarget).css(\"visibility\", \"visible\");\n\t\t\t} else {\n\t\t\t\t$(\".reset .symbol\", ev.delegateTarget).css(\"visibility\", \"hidden\");\n\t\t\t}\n\t\t});\n\n\t\t$(\".catalog-filter-search\").on(\"click\", \".reset\", function(ev) {\n\t\t\t$(\".symbol\", this).css(\"visibility\", \"hidden\");\n\t\t\t$(\".value\", ev.delegateTarget).val(\"\");\n\t\t\t$(\".value\", ev.delegateTarget).focus();\n\t\t\treturn false;\n\t\t});\n\t},\n\n\n\t/**\n\t * Initialize the catalog filter actions\n\t */\n\tinit: function() {\n\n\t\tthis.setupCategoryToggle();\n\t\tthis.setupSupplierToggle();\n\t\tthis.setupAttributeToggle();\n\t\tthis.setupAttributeListsEmtpy();\n\t\tthis.setupAttributeListsToggle();\n\t\tthis.setupListFadeout();\n\n\t\tthis.setupAttributeItemSubmit();\n\t\tthis.setupSupplierItemSubmit();\n\n\t\tthis.setupFormChecks();\n\t\tthis.setupSearchTextReset();\n\t\tthis.setupSearchAutocompletion();\n\t}\n};\n\n\n\n\n\n/**\n * Catalog list actions\n */\nAimeosCatalogList = {\n\n\t/**\n\t * Switches product images on hover\n\t */\n\tsetupImageSwitch: function() {\n\n\t\t$(\".catalog-list-items .product .media-list\").on(\"mouseenter\", function() {\n\t\t\tvar list = $(\".media-item\", this);\n\n\t\t\tif( list.length > 1 ) {\n\t\t\t\tvar second = list.eq(1);\n\t\t\t\tvar size = $(this).height();\n\n\t\t\t\t$(this).css(\"background-image\", \"none\"); // Don't let default image shine through\n\t\t\t\tsecond.css(\"background-image\", \"url('\" + second.data(\"src\") + \"')\");\n\t\t\t\tsecond.fadeTo(0, 0.33);\n\n\t\t\t\tlist.first().fadeTo(400, 0.33, function() {\n\t\t\t\t\tlist.css('top', -size);\n\t\t\t\t\tsecond.fadeTo(400, 1);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$(\".catalog-list-items .product .media-list\").on(\"mouseleave\", function() {\n\t\t\tvar list = $(\".media-item\", this);\n\n\t\t\tif( list.length > 1 ) {\n\t\t\t\tlist.first().css('opacity', 0.33);\n\n\t\t\t\tlist.eq(1).fadeTo(400, 0.33, function() {\n\t\t\t\t\tlist.css('top', 0);\n\t\t\t\t\tlist.first().fadeTo(400, 1);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$(\".catalog-list-items .product .media-list a\").on(\"click\", function(ev) {\n\t\t\twindow.location.href = $(this).attr('href');\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the catalog list actions\n\t */\n\tinit: function() {\n\t\tthis.setupImageSwitch();\n\t}\n};\n\n\n\n\n\n/**\n * Catalog session actions\n */\nAimeosCatalogSession = {\n\n\t/**\n\t * Initializes the catalog session actions\n\t */\n\tinit: function() {\n\t}\n};\n\n\n\n\n\n/**\n * Catalog stage actions\n */\nAimeosCatalogStage = {\n\n\t/**\n\t * Initializes the catalog stage actions\n\t */\n\tinit: function() {\n\t}\n};\n\n\n\n\n\n/**\n * Checkout standard client actions\n */\nAimeosCheckoutStandard = {\n\n\t/**\n\t * Shows only selected address forms\n\t */\n\t\tsetupAddressForms: function() {\n\n\t\t$(\".checkout-standard-address .item-address\").has(\".header input:not(:checked)\").find(\".form-list\").hide();\n\n\t\t/* Initial state: Hide VAT ID if salution is not \"company\" */\n\t\t$(\".checkout-standard-address .form-list .salutation select\").each(function(idx, elem) {\n\t\t\tif($(elem).val() !== \"company\") {\n\t\t\t\t$(this).parents(\".form-list\").find(\".company,.vatid\").hide();\n\t\t\t}\n\t\t});\n\n\t\t/* Address form slide up/down when selected */\n\t\t$(\".checkout-standard-address-billing,.checkout-standard-address-delivery\").on(\"click\", \".header input\",\n\t\t\tfunction(ev) {\n\t\t\t\t$(\".form-list\", ev.delegateTarget).slideUp(400);\n\t\t\t\t$(\".item-address\", ev.delegateTarget).has(this).find(\".form-list\").slideDown(400);\n\t\t\t});\n\t},\n\n\n\t/**\n\t * Shows company and VAT ID fields if salutation is \"company\", otherwise\n\t * hide the fields\n\t */\n\tsetupSalutationCompany: function() {\n\n\t\t$(\".checkout-standard-address .form-list\").on(\"change\", \".salutation select\", function(ev) {\n\t\t\tvar fields = $(\".company,.vatid\", ev.delegateTarget);\n\t\t\t$(this).val() === \"company\" ? fields.show() : fields.hide();\n\t\t});\n\t},\n\n\n\t/**\n\t * Shows states only from selected countries\n\t */\n\tsetupCountryState: function() {\n\t\t/*\n\n\t\t$(\".checkout-standard-address .form-list .countryid select\").each(function(idx, elem) {\n\t\t\tif($(this).val() !== \"\") {\n\t\t\t\t$(this).parents(\".form-list\").find(\".state optgroup:not(.\" + $(this).val() + \")\").hide();\n\t\t\t}\n\t\t});\n\n\t\t$(\".checkout-standard-address .form-list\").on(\"change\", \".countryid select\", function(ev) {\n\t\t\t$(\".state select\", ev.delegateTarget).val(\"\");\n\t\t\t$(\".state optgroup\", ev.delegateTarget).hide();\n\t\t\t$(\".state .\" + $(this).val(), ev.delegateTarget).show();\n\t\t});\n\t\t*/\n\t},\n\n\n\t/**\n\t * Shows date picker for birthday field\n\t */\n\tsetupBirthdayPicker: function() {\n\t\t/*$( \".checkout-standard-address .form-list input.birthday\" ).datepicker({\n\t\t\tminDate: '-100Y', maxDate: '0Y',\n\t\t\tyearRange: 'c-100:c-0',\n\t\t\tdateFormat: 'yy-mm-dd',\n\t\t\tchangeMonth: true,\n\t\t\tchangeYear: true\n\t\t}); */\n\t},\n\n\n\t/**\n\t * Shows only form fields of selected service option\n\t */\n\tsetupServiceForms: function() {\n\n\t\t/* Hide form fields if delivery/payment option is not selected */\n\t\t$(\".checkout-standard-delivery,.checkout-standard-payment\").each(function(idx, elem) {\n\t\t\t$(elem).find(\".form-list\").hide();\n\t\t\t$(elem).find(\".item-service\").has(\"input.option:checked\").find(\".form-list\").show();\n\t\t});\n\n\t\t/* Delivery/payment form slide up/down when selected */\n\t\t$(\".checkout-standard-delivery, .checkout-standard-payment\").on(\"click\", \".option\", function(ev) {\n\t\t\t$(\".form-list\", ev.delegateTarget).slideUp(400);\n\t\t\t$(\".item-service\", ev.delegateTarget).has(this).find(\".form-list\").slideDown(400);\n\t\t});\n\t},\n\n\n\t/**\n\t * Checks for mandatory fields in all forms\n\t */\n\tsetupMandatoryCheck: function() {\n\n\t\t$(\".checkout-standard .form-item\").on(\"blur\", \"input,select\", function(ev) {\n\t\t\tvar value = $(this).val();\n\t\t\tvar node = $(ev.delegateTarget);\n\t\t\tvar regex = new RegExp(node.data('regex'));\n\n\t\t\tif((value !== '' && value.match(regex)) || (value === '' && !node.hasClass(\"mandatory\"))) {\n\t\t\t\tnode.removeClass(\"error\").addClass(\"success\");\n\t\t\t} else {\n\t\t\t\tnode.removeClass(\"success\").addClass(\"error\");\n\t\t\t}\n\t\t});\n\n\t\t$(\".checkout-standard form\").on(\"submit\", function(ev) {\n\t\t\tvar retval = true;\n\t\t\tvar nodes = [];\n\n\t\t\tvar testfn = function(idx, element) {\n\n\t\t\t\tvar elem = $(element);\n\t\t\t\tvar value = $(\"input,select\", elem).val();\n\n\t\t\t\tif(value === null || value.trim() === \"\") {\n\t\t\t\t\telem.addClass(\"error\");\n\t\t\t\t\tnodes.push(element);\n\t\t\t\t\tretval = false;\n\t\t\t\t} else {\n\t\t\t\t\telem.removeClass(\"error\");\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar item = $(\".checkout-standard .item-new, .item-service\").each(function(node) {\n\n\t\t\t\tif($(\".header,label input\", this).is(\":checked\")) {\n\t\t\t\t\t$(\".form-list .mandatory\", this).each(testfn);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(\".checkout-standard-process .form-list .mandatory\").each(testfn);\n\n\t\t\tif( nodes.length !== 0 ) {\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $(nodes).first().offset().top + 'px'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn retval;\n\t\t});\n\t},\n\n\n\t/**\n\t * Redirect to payment provider / confirm page when order has been created successfully\n\t */\n\tsetupPaymentRedirect: function() {\n\n\t\tvar form = $(\".checkout-standard form\").first();\n\t\tvar node = $(\".checkout-standard-process\", form);\n\t\tvar anchor = $(\"a.btn-action\", node);\n\n\t\tif(anchor.length > 0) {\n\t\t\twindow.location = anchor.attr(\"href\");\n\t\t} else if(node.length > 0 && node.has(\".mandatory\").length === 0 && node.has(\".optional\").length === 0 && form.attr(\"action\") !== '' ) {\n\t\t\tform.submit();\n\t\t}\n\t},\n\n\n\t/**\n\t * Initializes the checkout standard section\n\t */\n\tinit: function() {\n\n\t\tthis.setupAddressForms();\n\t\tthis.setupServiceForms();\n\n\t\tthis.setupSalutationCompany();\n\t\tthis.setupCountryState();\n\t\tthis.setupBirthdayPicker();\n\n\t\tthis.setupMandatoryCheck();\n\t\tthis.setupPaymentRedirect();\n\t}\n};\n\n\n\n\n\n/**\n * Checkout confirm client actions\n */\nAimeosCheckoutConfirm = {\n\n\t/**\n\t * Initializes the checkout confirm section\n\t */\n\tinit: function() {\n\t}\n};\n\n\n\n\n\n/**\n * Locale selector actions\n */\nAimeosLocaleSelect = {\n\n\t/**\n\t * Keeps menu open on click resp. closes on second click\n\t */\n\tsetupMenuToggle: function() {\n\n\t\t$(\".select-menu .select-dropdown\").click(function() {\n\t\t\t$(\"ul\", this).toggleClass(\"active\");\n\t\t\t$(this).toggleClass(\"active\");\n\t\t});\n\t},\n\n\n\t/**\n\t * Initializes the locale selector actions\n\t */\n\tinit: function() {\n\t\tthis.setupMenuToggle();\n\t}\n};\n\n\n\n\n\n/*\n * CSS3 support for IE8\n */\ndocument.createElement(\"nav\");\ndocument.createElement(\"section\");\ndocument.createElement(\"article\");\n\n\n/*\n * Disable CSS rules only necessary if no Javascript is available\n */\n$(\"html\").removeClass(\"no-js\");\n\n\nAimeos.loadImages();\n\n\njQuery(document).ready(function($) {\n\n\t/* CSS3 \"background-size: contain\" support for IE8 */\n\t$(\".catalog-list-items .media-item\").css(\"background-size\", \"contain\");\n\t$(\".catalog-detail-image .item\").css(\"background-size\", \"contain\");\n\n\n\t/* Lazy product image loading in list view */\n\tAimeos.loadImages();\n\t$(window).on(\"resize\", Aimeos.loadImages);\n\t$(window).on(\"scroll\", Aimeos.loadImages);\n\n\n\tAimeos.init();\n\n\tAimeosLocaleSelect.init();\n\n\tAimeosCatalog.init();\n\tAimeosCatalogFilter.init();\n\tAimeosCatalogList.init();\n\tAimeosCatalogSession.init();\n\tAimeosCatalogStage.init();\n\n\tAimeosBasketMini.init();\n\tAimeosBasketRelated.init();\n\tAimeosBasketStandard.init();\n\n\tAimeosCheckoutStandard.init();\n\tAimeosCheckoutConfirm.init();\n\n\tAimeosAccountSubscription.init();\n\tAimeosAccountHistory.init();\n\tAimeosAccountFavorite.init();\n\tAimeosAccountWatch.init();\n});\n",
          "comment" : ""
        },
        "redirectURL" : "",
        "headersSize" : 277,
        "bodySize" : 34714,
        "comment" : ""
      },
      "cache" : { },
      "timings" : {
        "comment" : "",
        "ssl" : -1,
        "connect" : -1,
        "dns" : -1,
        "blocked" : -1,
        "wait" : 0,
        "receive" : 3,
        "send" : 0
      },
      "serverIPAddress" : "192.168.0.28",
      "comment" : "",
      "_katalonRequestInformation" : {
        "name" : "330",
        "testObjectId" : "Temporary RESTful request object",
        "harId" : "050c1d6b-9bfa-40af-b6c3-3d306d52e312"
      },
      "time" : 4
    } ],
    "comment" : ""
  }
}